(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var l in s)e.o(s,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:s[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,s=window.wp.i18n,l=JSON.parse('{"name":"latest-post-shortcode/lps-block","category":"widgets","attributes":{"blockName":{"type":"string","default":"latest-post-shortcode/lps-block"},"lpsContent":{"type":"string","default":"[latest-selected-content ver=\\"2\\" limit=\\"4\\" display=\\"title\\" titletag=\\"h3\\" url=\\"yes\\" image=\\"thumbnail\\" elements=\\"3\\" css=\\"four-columns align-left content-end as-overlay tall dark hover-zoom\\" type=\\"post\\" status=\\"publish\\" orderby=\\"dateD\\"]"}}}'),o=window.React,n=window.wp.components,a=window.wp.blockEditor,r=window.wp.element,c=window.wp.data,i=window.wp.compose,d=window.wp.serverSideRender;var p=e.n(d);const m=(0,i.compose)([i.withInstanceId])((function({attributes:e,setAttributes:t,className:l,clientId:i}){const{lpsContent:d=""}=e,m=wp.data.select("core/editor").getCurrentPostId(),u=function(e,t){let s=e.map((function(e){return"latest-post-shortcode/lps-block"===wp.data.select("core/block-editor").getBlockName(e)?e:""}));return s=s.filter((e=>0!==Object.keys(e).length)),s.indexOf(t)}(wp.data.select("core/block-editor").getClientIdsWithDescendants(),i),h=((0,c.useSelect)((e=>e("core/block-editor").getSelectedBlock())),e=>{t({lpsContent:e})});return(0,r.useEffect)((()=>{t({nthOfType:u}),h(d)}),[d,u]),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(a.InspectorControls,null,(0,o.createElement)(n.PanelBody,{title:(0,s.__)("Latest Post Shortcode Settings","lps")},(0,o.createElement)("p",null,(0,s.__)("Click the button below to use the shortcode UI, or change the attributes manually.","lps")),(0,o.createElement)(n.Button,{className:"lps-block-settings-button",label:(0,s.__)("Latest Post Shortcode","lps"),onClick:()=>{const e=document.querySelector(".lps-"+i);if(e){const t=wp.data.select("core/block-editor").getSelectedBlock();LPS_generator.openBlockPopup(t,e.innerHTML)}}},(0,s.__)("Shortcode Options","lps")),(0,o.createElement)(a.RichText,{tagName:"div",className:`lps-block-settings-controls lps-${i}`,value:d,onChange:e=>h(e),allowedFormats:[],disableLineBreaks:!0,multiline:!1}))),(0,o.createElement)(p(),{block:"latest-post-shortcode/lps-block",setAttributes:t,className:l,attributes:{lpsContent:d,lpsBlockName:"latest-post-shortcode/lps-block",postId:m,nthOfType:u,clientId:i,className:l}}))})),{name:u}=l;(0,t.unstable__bootstrapServerSideBlockDefinitions)({[u]:l});const h=wp.element.createElement,w=h("span",{className:"lps-icon-wrap"},h("svg",{width:22,height:22,viewBox:"0 0 1260 1260",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M445 1260l370 0 0 -630 -370 0 0 630zm-445 0l371 0 0 -630 -371 0 0 630zm73 -234l225 0 0 156 -225 0 0 -156zm-73 -790l1260 0 0 -236 -1260 0 0 236zm612 -158l520 0 0 80 -520 0 0 -80zm-612 473l1260 0 0 -236 -1260 0 0 236zm612 -158l520 0 0 80 -520 0 0 -80zm277 867l371 0 0 -630 -371 0 0 630zm74 -234l224 0 0 156 -224 0 0 -156zm-445 0l224 0 0 156 -224 0 0 -156z"})));(0,t.registerBlockType)("latest-post-shortcode/lps-block",{title:(0,s.__)("LPS / Latest Post Shortcode","lps"),description:(0,s.__)("Dynamic custom selection","lps"),category:"widgets",icon:w,supports:{html:!1,anchor:!0,align:["full","wide","center"]},variations:[{name:"overlay",isDefault:!0,title:(0,s.__)("Overlay Cards","lps"),keywords:["lps","grid","card","overlay","latest post shortcode"],scope:["inserter"],attributes:{align:"wide",lpsContent:'[latest-selected-content ver="2" limit="4" display="title" titletag="h3" url="yes" image="thumbnail" elements="25" css="four-columns as-overlay align-left content-end tall dark hover-zoom" type="post" status="publish" orderby="dateD"]'}},{name:"columns",isDefault:!1,title:(0,s.__)("Vertical Cards","lps"),keywords:["lps","grid","card","column","latest post shortcode"],scope:["inserter"],attributes:{align:"wide",lpsContent:'[latest-selected-content ver="2" limit="4" display="title" titletag="h3" url="yes" image="medium" elements="25" css="four-columns as-column has-shadow hover-zoom light content-center" type="post" status="publish" orderby="dateD"]'}},{name:"horizontal",isDefault:!1,title:(0,s.__)("Horizontal Cards","lps"),keywords:["lps","grid","card","column","latest post shortcode"],scope:["inserter"],attributes:{align:"wide",lpsContent:'[latest-selected-content ver="2" limit="2" display="title,excerpt-small" chrlimit="60" titletag="h3" url="yes" image="medium" elements="25" css="two-columns h-image-info has-shadow hover-zoom align-center content-center light has-stacked" type="post" status="publish" orderby="dateD"]'}}],edit:m,save:function({attributes:e,className:t}){const{lpsContent:s}=e;return(0,o.createElement)("div",{className:t},s)}})})();