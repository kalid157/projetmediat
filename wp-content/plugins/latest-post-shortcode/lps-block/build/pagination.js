window.addEventListener("DOMContentLoaded",(()=>{const e=()=>{const e=document.querySelectorAll(".latest-post-selection article");e&&e.forEach((e=>{const t=e.querySelector(".main-link");t&&e.addEventListener("click",(e=>{if("a"!==e.target.tagName.toLowerCase()){const n=t.getAttribute("href"),a=t.getAttribute("target");n&&(e.metaKey?window.open(n,"_new"):!a||"_blank"!==a&&"_new"!==a?window.location.href=n:window.open(n,a))}}))}))},t=()=>{const e=document.querySelectorAll(".lps-pagination-wrap");e&&e.forEach((e=>{const t=e.closest(".lps-top-section-wrap");if(t){const a=t.querySelector("section");a&&n(e,t,a)}}))},n=(n,s,i)=>{if(!n||!s||!i)return;const r=n.classList.contains("lps-load-more"),o=n.classList.contains("lps-load-more-scroll"),c=s?.dataset?.args;if(!c)return;const l=(e,t)=>{let n="";return n=e.indexOf("?")>=0?"1"===t?e:e.replace("?",`/page/${t}?`):"1"===t?e:`${e}/page/${t}`,n=n.replace("//page","/page"),n},p=n.querySelectorAll("a.page-item");if(p){const c=s?.dataset?.url;p.forEach((p=>{var d;const u=null!==(d=p?.dataset?.page)&&void 0!==d?d:1;p.setAttribute("href",l(c,u)),p.classList.contains("disabled")||p.parentNode.classList.contains("disabled")||p.addEventListener("click",(p=>{if(p.preventDefault(),p.stopPropagation(),function(n,s,i,r,o,c){if(n){if(n.classList.contains("processing"))return;n.classList.add("processing")}const l=document.createElement("div");l.classList.add("spinner"),l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" style="margin: auto; background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%; display: block; shape-rendering: auto;" width="64" height="64" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" stroke-width="4"><animate attributeName="r" repeatCount="indefinite" dur="1s" values="0;40" keyTimes="0;1" keySplines="0 0.2 0.8 1" calcMode="spline" begin="0s"></animate><animate attributeName="opacity" repeatCount="indefinite" dur="1s" values="1;0" keyTimes="0;1" keySplines="0.2 0 0.8 1" calcMode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" stroke-width="4"><animate attributeName="r" repeatCount="indefinite" dur="1s" values="0;40" keyTimes="0;1" keySplines="0 0.2 0.8 1" calcMode="spline" begin="-0.5s"></animate><animate attributeName="opacity" repeatCount="indefinite" dur="1s" values="1;0" keyTimes="0;1" keySplines="0.2 0 0.8 1" calcMode="spline" begin="-0.5s"></animate></circle></svg>',n.appendChild(l);const p=new FormData;p.append("action","lps_navigate_to_page"),p.append("id",`${n.id}`),p.append("page",`${s}`),p.append("current",`${n.dataset.current}`),p.append("lps_ajax","1"),n?.dataset?.args&&JSON.parse(n?.dataset?.args,(function(e,t){e&&p.append(`args[${e}]`,`${t}`)})),fetch(`${lpsSettings.ajaxUrl}`,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:new URLSearchParams(p)}).then((e=>e.text())).then((s=>{!function(e,t){e.remove();const n=t.querySelectorAll(".spinner");n&&n.forEach((e=>{e.remove()}))}(l,n),function(e){const t=e.querySelectorAll(".lps-pagination-wrap");t&&t.forEach((e=>{e.remove()}))}(n),r||o?(i.remove(),c.innerHTML+=s):c.innerHTML=s;const p=c.querySelector(".lps-pagination-wrap.before");p&&n.prepend(p);const d=c.querySelector(".lps-pagination-wrap.after");d&&n.append(d),n.classList.remove("processing"),e(),t(),a()})).catch((e=>{console.log(e)}))}(s,u,n,r,o,i),window.history.pushState&&!r&&!o){const e=l(c,u);window.history.pushState(null,document.title,e)}}))}))}};function a(){const e=document.querySelectorAll(".lps-pagination-wrap.lps-load-more-scroll .page-item");e&&e.forEach((e=>{new window.IntersectionObserver((([t])=>{t.isIntersecting&&e.click()}),{root:null,threshold:1}).observe(e)}))}e(),t(),a()}));